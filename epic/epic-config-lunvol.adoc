---
sidebar: sidebar 
permalink: epic/epic-config-lunvol.html 
keywords: epic,cache,iris 
summary: Epic LUNおよびボリューム構成 
---
= Epic LUNおよびボリューム構成
:allow-uri-read: 


[role="lead"]
各データベースのLUNのサイズと数については、Epic Database Storage Layout Recommendationsを参照してください。

Epic DBAとEpicのサポートを受けて本ドキュメントを確認し、必要に応じてLUNの数とLUNサイズを決定することが重要です。これらのストレージの推奨事項は、HBAのキュー深度、ストレージパフォーマンス、運用のしやすさ、および拡張のしやすさにとって重要です。

サーバOSのキュー深度を考慮する場合は、データベースに少なくとも8つのLUN（ボリュームごとに1つのLUN）を使用します。LUNの数を8の倍数に増やします。大規模な環境では、より多くのLUNが必要になる場合があります。同じ数のボリューム（合計8個、ノードあたり4個）を使用し、8の倍数でLUNを追加します。Epicでは、LUNを8 TB未満、LUNの数を32未満に保つことを推奨しています。このアプローチにより、Epic環境を簡単に拡張できます。

Epic ODBやClarityなどのワークロードのパフォーマンスを最大化するには、各レイアウトがNetAppストレージに最適です。8個のボリュームを使用することで、書き込みIOがコントローラ間で均等に分散され、CPU利用率が最大化されます。レプリケーションとバックアップでは、運用を簡易化するために、ボリューム数を8個に制限することを推奨します。



== スケーリングオプション

サーバでストレージの追加が必要な場合は、ボリュームを含むLUNを拡張するのが最も簡単な方法です。2つ目の方法は、一度に8の倍数（既存のボリュームごとに1つ）でボリュームグループにLUNを追加する方法です。LUNを1つまたは2つ追加するだけでホットスポットが作成され、パフォーマンスに影響する可能性があります。



== ボリュームと8 LUNのレイアウト

image:epic-8lun.png["Epic 8 LUNレイアウト"]



== ボリュームと16 LUNのレイアウト

image:epic-16lun.png["Epic 16 LUNレイアウト"]



== ボリュームと24 LUNのレイアウト

image:epic-24lun.png["Epic 24 LUNレイアウト"]



== ボリュームと32 LUNのレイアウト

image:epic-32lun.png["EPIC 32-LUNレイアウト"]



== ベストプラクティス

* 8個のボリュームで8個、16個、24個、または32個のLUNを使用します。
* HAペア間でワークロードを分散して、パフォーマンスと効率を最大化します。
* LUN拡張の制限が10倍になるのを避けるため、3年間の拡張が想定されるサイズでLUNを作成します。
* シンプロビジョニングされたボリュームとLUNを使用する。
* 少なくとも8つのDB LUN、2つのジャーナルLUN、2つのアプリケーションLUNを使用します。この構成により、ストレージパフォーマンスとOSのキュー深度を最大限に高めることができます。容量やその他の理由で必要に応じて、より多くのものを使用できます。
* ボリュームグループにLUNを追加する必要がある場合は、一度に8個のLUNを追加します。
* ボリュームとLUNのグループを一緒にバックアップするには、整合グループ（CG）が必要です。
* GenioまたはI/Oのパフォーマンス中はQoSを使用しないでください。
* GenioまたはClarityのテスト後、NetAppでは、本番データをロードする前にストレージを削除して再プロビジョニングすることを推奨しています。
* LUNでenabledが設定されていることが重要です `-space-allocation`。そうでない場合、LUN上で削除されたデータはONTAPで認識されず、容量の問題が発生する可能性があります。詳細については、『Epic Storage Configuration Quick Reference Guide』を参照してください。

