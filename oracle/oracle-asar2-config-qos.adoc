---
sidebar: sidebar 
permalink: oracle/oracle-asar2-config-qos.html 
keywords: qos, bandwidth, minimum, guaranteed, adaptive, ASA r2, oracle 
summary: ASA r2 上のONTAP QoS を使用した Oracle データベースのパフォーマンス管理 
searchtitle: ASA r2 上のONTAP QoS を使用した Oracle データベースのパフォーマンス管理 
---
= ASA r2 システムでのONTAP QoS によるパフォーマンス管理
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
ASA r2 上で複数の Oracle データベースを安全かつ効率的に管理するには、効果的な QoS 戦略が必要です。ASA r2 システムは、極めて高いパフォーマンスとワークロード統合のために設計されたオールフラッシュSAN プラットフォームであるため、これが特に重要です。

比較的少数の SSD では、最も強力なコントローラでも飽和状態になる可能性があるため、複数のワークロードにわたって予測可能なパフォーマンスを確保するには QoS 制御が不可欠です。参考までに、 ASA A1K や A90 などのASA r2 システムは、数十万から 100 万を超える IOPS をミリ秒未満の遅延で提供できます。このパフォーマンス レベルを消費する単一のワークロードはほとんどないため、完全に利用するには、通常、複数のデータベースまたはアプリケーションをホストする必要があります。これを安全に行うには、リソースの競合を防ぐための QoS ポリシーが必要です。

ASA r2 上のONTAP QoS は、 AFF/ FASシステムと同じように動作し、IOPS と帯域幅という 2 つの主要なタイプの制御を備えています。QoS 制御は SVM および LUN に適用できます。



== IOPS QoS

IOPS ベースの QoS は、特定のリソースの合計 IOPS を制限します。ASA r2 では、QoS ポリシーを SVM レベルおよび LUN などの個々のストレージ オブジェクトに適用できます。ワークロードが IOPS 制限に達すると、追加の I/O 要求がトークンのキューに入れられ、遅延が発生します。これは想定された動作であり、単一のワークロードがシステム リソースを独占することを防ぎます。


NOTE: データベース トランザクション/REDO ログ データに QoS 制御を適用する場合は注意が必要です。これらのワークロードはバースト性が高く、平均的なアクティビティに対しては妥当と思われる QoS 制限が、ピーク時のバーストに対しては低すぎる可能性があり、深刻なパフォーマンスの問題を引き起こします。一般に、再実行およびアーカイブ ログは QoS によって制限されるべきではありません。



== 帯域幅QoS

帯域幅ベースの QoS は、スループットを Mbps 単位で制限します。これは、完全なテーブルスキャンやバックアップ操作など、大量の帯域幅を消費するが IOPS は比較的少ない、大規模なブロックの読み取りや書き込みを実行するワークロードに役立ちます。IOPS と帯域幅の制限を組み合わせることで、よりきめ細かな制御が可能になります。



== 最小/保証されたQoS

最小 QoS ポリシーは、重要なワークロードのパフォーマンスを確保します。たとえば、本番データベースと開発データベースが混在する環境では、開発ワークロードに最大の QoS を適用し、本番ワークロードに最小の QoS を適用して、予測可能なパフォーマンスを確保します。



== アダプティブ QoS

アダプティブ QoS は、ストレージ オブジェクトのサイズに基づいて制限を調整します。データベースで使用されることはほとんどありませんが (サイズはパフォーマンスのニーズと相関しないため)、パフォーマンス要件が容量に応じて変化する仮想化ワークロードには役立ちます。
